#!/bin/bash
function helppage {
    echo "Usage: $(basename $0) [OPTION] <filename>"
    echo ""
    echo " -h, --help          Display this help and exit"
    echo " -v, --version       Display the pseucoco version and exit"
    
}
function pseucoco {
    sudo java -jar /usr/share/pseucoco/pseucoco-2.3.jar $@
}

if [ $# -gt 1 ]
then
    helppage
elif [ $# -lt 1 ]
then
    pseucoco
else
    if [[ "$1" == "-h" || "$1" == "--help" ]]
    then
        helppage
    elif [[ "$1" == "-v" || "$1" == "--version" ]]
    then
        pseucoco -version
    else
        if [[ -e $1 ]]
        then
            cat $1 | sed '/^#!/d' > /tmp/pseucotmp
            pseucoco -i /tmp/pseucotmp
        else
            echo "Error: File \"$1\" not found."
        fi
    fi
fi
