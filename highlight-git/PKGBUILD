pkgname="highlight-git"
pkgver=${PKGVER:-autogenerated}
pkgrel=${PKGREL:-1}
pkgdesc="simple text highlighting using terminal escape codes"
arch=("i686" "x86_64")
license=("GPL")
depends=()
makedepends=(
    "git"
)
source=(
    "$pkgname::git+ssh://github.com/reconquest/highlight.git"
)
md5sums=("SKIP")

pkgver() {
    cd "$srcdir/$pkgname"
    local date=$(git log -1 --format="%cd" --date=short | sed s/-//g)
    local count=$(git rev-list --count HEAD)
    local commit=$(git rev-parse --short HEAD)
    echo "$date.${count}_$commit"
}

build() {
    :
}

package() {
    mkdir -p $pkgdir/usr/bin

    cp "$srcdir/$pkgname/highlight" $pkgdir/usr/bin
}
